% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generate_Qsplines.R
\name{generate_Qsplines}
\alias{generate_Qsplines}
\title{Compute Quadratic K-Splines from Segment Lengths and Accelerations}
\usage{
generate_Qsplines(segments, a, p0 = 0, pK1 = 0)
}
\arguments{
\item{segments}{Numeric vector of positive segment lengths.}

\item{a}{Numeric vector of accelerations, of the same length as `segments`.}
}
\value{
A list with components:
\describe{
  \item{p}{Normalized positions along the spline.}
  \item{v}{Normalized velocities at segment boundaries.}
  \item{a}{Normalized accelerations (same as input, scaled).}
}
}
\description{
Computes piecewise quadratic spline quantities (position, speed, acceleration)
for a system of segments characterized by given lengths and accelerations.
}
\details{
The function constructs and solves a linear system \eqn{A vtilde = b}, where:
\itemize{
  \item \eqn{b = (segments * a, 0)} defines acceleration constraints,
  \item \eqn{A} is a structured matrix encoding spline continuity conditions,
  \item \eqn{v} are auxiliary velocity variables.
}

The resulting positions, velocities, and accelerations are normalized so that
the maximum absolute position equals 1 (unless all positions are zero).
}
\examples{
# Example with 5 segments and given accelerations
segments <- c(10, 20, 15, 10, 20)
accelerations <- c(0.5, -0.2, 0.3, 0.1, -0.1)
result <- generate_Qsplines(segments, accelerations)

# Inspect results
result$p  # positions
result$v  # velocities
result$a  # normalized accelerations

# Plot positions along the spline
tim <- rep(1:5, segments)
plot(result$p[time], type = "b", main = "Quadratic K-Spline Positions",
     xlab = "Segment Index", ylab = "Normalized Position")

}
